import{_ as f,m as y,c as a,a as r,b as g,d as h,f as i,t as m,w as v,v as _,g as S,r as k,o as u}from"./index-8PHg_U0O.js";import{u as p}from"./store-CyIGZ2sq.js";const w="/academywhite.png",C={data(){let s=p();return{searchQuery:"",loggedIn:s.isLoggedIn,username:s.username,version:s.version}},methods:{async searchClicked(){console.log("Search Clicked");let s=this.searchQuery,o=await(await fetch("/api/search",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({searchTerm:s})})).json();if(console.log(o),o.error){console.log("Error code: "+o.error),console.log("Error content: "+o.content);return}let d=JSON.parse(o.content),t=p();t.currentTitles=d;let n=await(await fetch("/api/userdata")).json();if(console.log(n),n.error){console.log("Error code: "+o.error),console.log("Error content: "+o.content);return}t.username=n.username,this.$router.push({path:"/search",query:{search:this.searchQuery}})},async logOut(){console.log("Logged Out");let e=await(await fetch("/api/logout",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).json();if(e.error){console.log("Error code: "+e.error),console.log("Error content: "+e.content);return}console.log("Success code:"+e.success),console.log("Success content: "+e.content)}},computed:{...y(p)}},j={class:"about"},E={id:"userContent"},R={key:0},T={key:1},O={class:"form-group"},b={id:"version_tag"};function x(s,e,o,d,t,l){const n=k("RouterLink");return u(),a("div",j,[r("div",E,[t.loggedIn?(u(),a("div",T,[r("p",null,"@"+m(t.username),1),r("a",{href:"javascript:;",onClick:e[0]||(e[0]=(...c)=>l.logOut&&l.logOut(...c))},"Logout")])):(u(),a("div",R,[g(n,{to:"/"},{default:h(()=>e[3]||(e[3]=[i("login")])),_:1}),e[5]||(e[5]=i(" or ")),g(n,{to:"/signup"},{default:h(()=>e[4]||(e[4]=[i("sign up")])),_:1})]))]),e[6]||(e[6]=r("img",{src:w,height:"150"},null,-1)),r("div",O,[v(r("input",{placeholder:"Intro to Javascript....","onUpdate:modelValue":e[1]||(e[1]=c=>t.searchQuery=c),required:"",onKeyup:e[2]||(e[2]=S((...c)=>l.searchClicked&&l.searchClicked(...c),["enter"]))},null,544),[[_,t.searchQuery]])]),r("div",null,[r("p",b,"v"+m(t.version),1)])])}const Q=f(C,[["render",x]]);export{Q as default};
