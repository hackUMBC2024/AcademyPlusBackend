import{_ as f,u as i,m as y,c,a as r,d as g,e as h,f as u,t as m,w as v,v as S,g as _,r as k,o as p}from"./index-CDgV28oK.js";const b="/academywhite.png",w={data(){let s=i();return{searchQuery:"",loggedIn:s.isLoggedIn,username:s.username,version:s.version}},methods:{async searchClicked(){console.log("Search Clicked");let s=this.searchQuery,o=await(await fetch("/api/search",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({searchTerm:s})})).json();if(console.log(o),o.error){console.log("Error code: "+o.error),console.log("Error content: "+o.content);return}let d=JSON.parse(o.content),t=i();t.currentTitles=d,t.currentSearchQuery=s,console.log("titles global store",t.currentTitles),console.log("search global store",t.currentSearchQuery);let n=await(await fetch("/api/userdata")).json();if(console.log(n),n.error){console.log("Error code: "+o.error),console.log("Error content: "+o.content);return}t.username=n.username,this.$router.push({path:"/map",query:{search:this.searchQuery}})},async logOut(){console.log("Logged Out");let e=await(await fetch("/api/logout",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).json();if(e.error){console.log("Error code: "+e.error),console.log("Error content: "+e.content);return}let o=i();o.isLoggedIn=!1,o.username="test",console.log("Success code:"+e.success),console.log("Success content: "+e.content),this.$router.push({path:"/"})}},computed:{...y(i)}},C={class:"about"},T={id:"userContent"},x={key:0},O={key:1,style:{display:"block ruby"}},j={style:{"margin-right":"15px"}},E={class:"form-group"},R={id:"version_tag"};function Q(s,e,o,d,t,l){const n=k("RouterLink");return p(),c("div",C,[r("div",T,[t.loggedIn?(p(),c("div",O,[r("p",j,"@"+m(t.username),1),r("a",{href:"javascript:;",onClick:e[0]||(e[0]=(...a)=>l.logOut&&l.logOut(...a))},"LOGOUT")])):(p(),c("div",x,[g(n,{to:"/"},{default:h(()=>e[3]||(e[3]=[u("login")])),_:1}),e[5]||(e[5]=u(" or ")),g(n,{to:"/signup"},{default:h(()=>e[4]||(e[4]=[u("sign up")])),_:1})]))]),e[7]||(e[7]=r("img",{src:b,height:"150"},null,-1)),r("div",E,[e[6]||(e[6]=r("p",{style:{margin:"0","margin-left":"4px","margin-bottom":"8px","font-family":"initial"}},"Press enter to search...",-1)),v(r("input",{placeholder:"Intro to Javascript....","onUpdate:modelValue":e[1]||(e[1]=a=>t.searchQuery=a),required:"",onKeyup:e[2]||(e[2]=_((...a)=>l.searchClicked&&l.searchClicked(...a),["enter"]))},null,544),[[S,t.searchQuery]])]),r("div",null,[r("p",R,"v"+m(t.version),1)])])}const I=f(w,[["render",Q]]);export{I as default};
