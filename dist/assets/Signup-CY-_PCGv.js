import{_ as u,c as d,a as o,w as i,v as a,b as c,d as m,e as g,r as f,o as w}from"./index--B_t7n2_.js";const v={data(){return{username:"",password:""}},methods:{async signUp(){let e=await(await fetch("/api/signup",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})})).json();if(e.error){console.log("Error code: "+e.error),console.log("Error content: "+e.content);return}console.log("Success code:"+e.success),console.log("Success content: "+e.content);let r=useGlobalStore();r.username=e.username,r.isLoggedIn=!0;let s=await(await fetch("/api/userdata")).json();if(console.log(s),s.error){console.log("Error code: "+e.error),console.log("Error content: "+e.content);return}r.username=s.username,this.$router.push({path:"/"})}}},S={class:"login-container"},b={class:"form-group"},h={class:"form-group"};function y(t,e,r,l,s,R){const p=f("RouterLink");return w(),d("div",S,[o("form",{onSubmit:e[2]||(e[2]=g((...n)=>t.handleLogin&&t.handleLogin(...n),["prevent"]))},[e[6]||(e[6]=o("h1",{id:"signin"},"Sign up",-1)),o("div",b,[e[3]||(e[3]=o("label",{for:"username"},"Username",-1)),i(o("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=n=>s.username=n),required:""},null,512),[[a,s.username]])]),o("div",h,[e[4]||(e[4]=o("label",{for:"password"},"Password",-1)),i(o("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=n=>s.password=n),required:""},null,512),[[a,s.password]])]),e[7]||(e[7]=o("div",null,null,-1)),c(p,{to:"/search"},{default:m(()=>e[5]||(e[5]=[o("button",{type:"submit"},"Sign up",-1)])),_:1})],32)])}const L=u(v,[["render",y],["__scopeId","data-v-1e7d90e3"]]);export{L as default};
