import{_ as f,u as a,m as y,c as i,a as s,d as g,e as h,f as u,t as m,w as v,v as S,g as _,r as k,o as p}from"./index-BqO7mhUF.js";const w="/academywhite.png",C={data(){let r=a();return{searchQuery:"",loggedIn:r.isLoggedIn,username:r.username,version:r.version}},methods:{async searchClicked(){console.log("Search Clicked");let r=this.searchQuery,o=await(await fetch("/api/search",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({searchTerm:r})})).json();if(console.log(o),o.error){console.log("Error code: "+o.error),console.log("Error content: "+o.content);return}let d=JSON.parse(o.content),t=a();t.currentTitles=d,t.currentSearchQuery=r,console.log("titles global store",t.currentTitles),console.log("search global store",t.currentSearchQuery);let n=await(await fetch("/api/userdata")).json();if(console.log(n),n.error){console.log("Error code: "+o.error),console.log("Error content: "+o.content);return}t.username=n.username,this.$router.push({path:"/search",query:{search:this.searchQuery}})},async logOut(){console.log("Logged Out");let e=await(await fetch("/api/logout",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).json();if(e.error){console.log("Error code: "+e.error),console.log("Error content: "+e.content);return}let o=a();o.isLoggedIn=!1,o.username="test",console.log("Success code:"+e.success),console.log("Success content: "+e.content),this.$router.push({path:"/"})}},computed:{...y(a)}},T={class:"about"},b={id:"userContent"},j={key:0},E={key:1},R={class:"form-group"},O={id:"version_tag"};function Q(r,e,o,d,t,l){const n=k("RouterLink");return p(),i("div",T,[s("div",b,[t.loggedIn?(p(),i("div",E,[s("p",null,"@"+m(t.username),1),s("a",{href:"javascript:;",onClick:e[0]||(e[0]=(...c)=>l.logOut&&l.logOut(...c))},"Logout")])):(p(),i("div",j,[g(n,{to:"/"},{default:h(()=>e[3]||(e[3]=[u("login")])),_:1}),e[5]||(e[5]=u(" or ")),g(n,{to:"/signup"},{default:h(()=>e[4]||(e[4]=[u("sign up")])),_:1})]))]),e[6]||(e[6]=s("img",{src:w,height:"150"},null,-1)),s("div",R,[v(s("input",{placeholder:"Intro to Javascript....","onUpdate:modelValue":e[1]||(e[1]=c=>t.searchQuery=c),required:"",onKeyup:e[2]||(e[2]=_((...c)=>l.searchClicked&&l.searchClicked(...c),["enter"]))},null,544),[[S,t.searchQuery]])]),s("div",null,[s("p",O,"v"+m(t.version),1)])])}const L=f(C,[["render",Q]]);export{L as default};
