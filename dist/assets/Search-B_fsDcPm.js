import{_ as f,u as c,m as y,c as i,a as s,b as g,d as h,f as u,t as m,w as v,v as _,g as S,r as k,o as p}from"./index-D_uqaFZs.js";const w="/academywhite.png",C={data(){let r=c();return{searchQuery:"",loggedIn:r.isLoggedIn,username:r.username,version:r.version}},methods:{async searchClicked(){console.log("Search Clicked");let r=this.searchQuery,o=await(await fetch("/api/search",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({searchTerm:r})})).json();if(console.log(o),o.error){console.log("Error code: "+o.error),console.log("Error content: "+o.content);return}let d=JSON.parse(o.content),t=c();t.currentTitles=d;let n=await(await fetch("/api/userdata")).json();if(console.log(n),n.error){console.log("Error code: "+o.error),console.log("Error content: "+o.content);return}t.username=n.username,this.$router.push({path:"/search",query:{search:this.searchQuery}})},async logOut(){console.log("Logged Out");let e=await(await fetch("/api/logout",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).json();if(e.error){console.log("Error code: "+e.error),console.log("Error content: "+e.content);return}let o=c();o.isLoggedIn=!1,o.username="test",console.log("Success code:"+e.success),console.log("Success content: "+e.content)}},computed:{...y(c)}},j={class:"about"},E={id:"userContent"},R={key:0},T={key:1},b={class:"form-group"},O={id:"version_tag"};function x(r,e,o,d,t,l){const n=k("RouterLink");return p(),i("div",j,[s("div",E,[t.loggedIn?(p(),i("div",T,[s("p",null,"@"+m(t.username),1),s("a",{href:"javascript:;",onClick:e[0]||(e[0]=(...a)=>l.logOut&&l.logOut(...a))},"Logout")])):(p(),i("div",R,[g(n,{to:"/"},{default:h(()=>e[3]||(e[3]=[u("login")])),_:1}),e[5]||(e[5]=u(" or ")),g(n,{to:"/signup"},{default:h(()=>e[4]||(e[4]=[u("sign up")])),_:1})]))]),e[6]||(e[6]=s("img",{src:w,height:"150"},null,-1)),s("div",b,[v(s("input",{placeholder:"Intro to Javascript....","onUpdate:modelValue":e[1]||(e[1]=a=>t.searchQuery=a),required:"",onKeyup:e[2]||(e[2]=S((...a)=>l.searchClicked&&l.searchClicked(...a),["enter"]))},null,544),[[_,t.searchQuery]])]),s("div",null,[s("p",O,"v"+m(t.version),1)])])}const I=f(C,[["render",x]]);export{I as default};
