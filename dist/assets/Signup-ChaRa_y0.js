import{_ as u,u as d,c,a as o,w as a,v as l,b as m,o as g}from"./index-iMi3-wa7.js";const f={data(){return{username:"",password:""}},methods:{async signUp(){let e=await(await fetch("/api/signup",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})})).json();if(e.error){console.log("Error code: "+e.error),console.log("Error content: "+e.content);return}console.log("Success code:"+e.success),console.log("Success content: "+e.content);let r=d();r.username=e.username,r.isLoggedIn=!0;let s=await(await fetch("/api/userdata")).json();if(console.log(s),s.error){console.log("Error code: "+e.error),console.log("Error content: "+e.content);return}r.username=s.username,this.$router.push({path:"/search"})}}},w={class:"login-container"},b={class:"form-group"},S={class:"form-group"};function v(t,e,r,p,s,i){return g(),c("div",w,[o("form",{onSubmit:e[3]||(e[3]=m((...n)=>t.handleLogin&&t.handleLogin(...n),["prevent"]))},[e[6]||(e[6]=o("h1",{id:"signin"},"Sign up",-1)),o("div",b,[e[4]||(e[4]=o("label",{for:"username"},"Username",-1)),a(o("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=n=>s.username=n),required:""},null,512),[[l,s.username]])]),o("div",S,[e[5]||(e[5]=o("label",{for:"password"},"Password",-1)),a(o("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=n=>s.password=n),required:""},null,512),[[l,s.password]])]),e[7]||(e[7]=o("div",null,null,-1)),o("button",{type:"submit",onClick:e[2]||(e[2]=(...n)=>i.signUp&&i.signUp(...n))},"Sign up")],32)])}const y=u(f,[["render",v],["__scopeId","data-v-f130b242"]]);export{y as default};
