import{_ as f,u as i,m as y,c,a as s,d as g,e as h,f as p,t as m,w as v,v as _,g as S,h as b,r as k,o as u}from"./index-BhI1rzf-.js";const w="/academywhite.png",C={data(){let r=i();return{searchQuery:"",loggedIn:r.isLoggedIn,username:r.username,version:r.version,submittedInput:!1}},methods:{async searchClicked(){console.log("Search Clicked");let r=this.searchQuery;this.submittedInput=!0;let t=await(await fetch("/api/search",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({searchTerm:r})})).json();if(console.log(t),t.error){console.log("Error code: "+t.error),console.log("Error content: "+t.content);return}let d=JSON.parse(t.content),o=i();o.currentTitles=d,o.currentSearchQuery=r,console.log("titles global store",o.currentTitles),console.log("search global store",o.currentSearchQuery);let n=await(await fetch("/api/userdata")).json();if(console.log(n),n.error){console.log("Error code: "+t.error),console.log("Error content: "+t.content);return}o.username=n.username,this.$router.push({path:"/map",query:{search:this.searchQuery}})},async logOut(){console.log("Logged Out");let e=await(await fetch("/api/logout",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).json();if(e.error){console.log("Error code: "+e.error),console.log("Error content: "+e.content);return}let t=i();t.isLoggedIn=!1,t.username="test",console.log("Success code:"+e.success),console.log("Success content: "+e.content),this.$router.push({path:"/"})}},computed:{...y(i)}},T={class:"about"},x={id:"userContent"},O={key:0},j={key:1,style:{display:"block ruby"}},E={style:{"margin-right":"15px"}},I={class:"form-group"},R={id:"version_tag"},L={key:0};function Q(r,e,t,d,o,l){const n=k("RouterLink");return u(),c("div",T,[s("div",x,[o.loggedIn?(u(),c("div",j,[s("p",E,"@"+m(o.username),1),s("a",{href:"javascript:;",onClick:e[0]||(e[0]=(...a)=>l.logOut&&l.logOut(...a))},"LOGOUT")])):(u(),c("div",O,[g(n,{to:"/"},{default:h(()=>e[3]||(e[3]=[p("login")])),_:1}),e[5]||(e[5]=p(" or ")),g(n,{to:"/signup"},{default:h(()=>e[4]||(e[4]=[p("sign up")])),_:1})]))]),e[7]||(e[7]=s("img",{src:w,height:"150"},null,-1)),s("div",I,[e[6]||(e[6]=s("p",{style:{margin:"0","margin-left":"4px","margin-bottom":"8px","font-family":"initial"}},"Press enter to search...",-1)),v(s("input",{placeholder:"Intro to Javascript....","onUpdate:modelValue":e[1]||(e[1]=a=>o.searchQuery=a),required:"",onKeyup:e[2]||(e[2]=S((...a)=>l.searchClicked&&l.searchClicked(...a),["enter"]))},null,544),[[_,o.searchQuery]])]),s("div",null,[s("p",R,"v"+m(o.version),1)]),o.submittedInput?(u(),c("div",L,"Loading...")):b("",!0)])}const V=f(C,[["render",Q]]);export{V as default};
